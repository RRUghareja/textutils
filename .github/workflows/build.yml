name: Build

on:
  push:
    branches: [main]

jobs:
  Build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout the latestcode
        uses: actions/checkout@v6.0.2
        
      - name: Node set Up
        uses: actions/setup-node@v6.2.0
        with:
         node-version: 18.x
         cache: 'npm'
           
      - name: Install dependency
        working-directory: ./frontend
        run: npm install
        
      - name: Node set up
        uses: actions/setup-node@v3
        with:
          node-version: 16

      # - name: Build project
      #   working-directory: ./frontend
      #   run: |
      #     export NODE_OPTIONS=--openssl-legacy-provider
      #     npm run build
      - name: Save in artifacts
        uses: actions/upload-artifact@v6.0.0
        with:
            # Artifact name
            name: next js build # optional, default is artifact
            # A file, directory or wildcard pattern that describes what to upload
            path: /out
            # The desired behavior if no files are found using the provided path.
  

      - name: Comformetion message
        run: echo "builedwas complted"
        
        
      
